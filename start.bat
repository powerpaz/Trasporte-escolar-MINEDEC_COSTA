@echo off\r\nsetlocal enabledelayedexpansion\r\n\r\nREM --- Config ---\r\nif "%FLASK_ENV%"=="" set FLASK_ENV=development\r\nif "%FLASK_DEBUG%"=="" set FLASK_DEBUG=1\r\nif "%BASE_URL%"=="" set BASE_URL=http://localhost:5000\r\n\r\necho Python:\r\npython --version\r\necho.\r\necho Pip:\r\npip --version\r\n\r\nREM --- Install requirements ---\r\nif exist requirements.txt (\r\n  echo [INFO] Installing requirements.txt ...\r\n  pip install -r requirements.txt\r\n) else (\r\n  echo [WARN] requirements.txt not found. Installing from requirements.extra.txt ...\r\n  pip install -r requirements.extra.txt\r\n)\r\n\r\nREM --- Ensure Flask & pandas present (safety) ---\r\npip show Flask >nul 2>&1 || pip install Flask==3.1.2\r\npip show pandas >nul 2>&1 || pip install pandas==2.3.3\r\n\r\nREM --- Launch app ---\r\necho [INFO] Starting Flask app in background window ...\r\nstart "FlaskApp" /MIN python app.py\r\n\r\nREM --- Wait & test ---\r\ntimeout /t 3 >nul\r\nif exist test_server.py (\r\n  echo [INFO] Running tests ...\r\n  python test_server.py || goto :tests_failed\r\n  echo [OK] Tests passed\r\n) else (\r\n  echo [WARN] test_server.py not found. Skipping tests.\r\n)\r\n\r\necho --------------------------------------------------\r\necho Server should be running at: %BASE_URL%\r\necho To stop, close the FlaskApp window or kill the python process.\r\necho Logs (if generated): server.log\r\necho --------------------------------------------------\r\ngoto :eof\r\n\r\n:tests_failed\r\necho [ERROR] Tests failed\r\nexit /b 1\r\n